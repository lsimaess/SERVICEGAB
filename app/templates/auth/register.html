{% extends "base.html" %}
{% block title %}Inscription{% endblock %}

{% block content %}
<h2 class="mb-4 text-center">Créer un compte</h2>

<div class="d-flex justify-content-center mb-3">
  <a href="{{ url_for('auth.register', type='requester') }}" class="btn {% if user_type == 'requester' %}btn-success{% else %}btn-outline-success{% endif %} me-2">Demandeur</a>
  <a href="{{ url_for('auth.register', type='worker') }}" class="btn {% if user_type == 'worker' %}btn-success{% else %}btn-outline-success{% endif %}">Prestataire</a>
</div>

{% if user_type == 'requester' %}
  <form method="POST" class="d-grid gap-3">
    {{ requester_form.hidden_tag() }}
    <div>{{ requester_form.full_name.label }} {{ requester_form.full_name(class="form-control") }}</div>
    <div>{{ requester_form.email.label }} {{ requester_form.email(class="form-control") }}</div>
    <div>{{ requester_form.phone.label }} {{ requester_form.phone(class="form-control") }}</div>
    <div>{{ requester_form.zone.label }} {{ requester_form.zone(class="form-select") }}</div>
    <div>{{ requester_form.description.label }} {{ requester_form.description(class="form-control") }}</div>
    {{ requester_form.submit(class="btn btn-success") }}
  </form>
{% else %}
  <form method="POST" class="d-grid gap-3" enctype="multipart/form-data">
    {{ worker_form.hidden_tag() }}
    <div>{{ worker_form.full_name.label }} {{ worker_form.full_name(class="form-control") }}</div>
    <div>{{ worker_form.email.label }} {{ worker_form.email(class="form-control") }}</div>
    <div>{{ worker_form.phone.label }} {{ worker_form.phone(class="form-control") }}</div>
    <div>{{ worker_form.zone.label }} {{ worker_form.zone(class="form-select") }}</div>
    <div>{{ worker_form.bio.label }} {{ worker_form.bio(class="form-control") }}</div>
    <div>{{ worker_form.profile_picture.label }} {{ worker_form.profile_picture(class="form-control") }}</div>
    {{ worker_form.submit(class="btn btn-success") }}
  </form>
{% endif %}

<p class="mt-3 text-center">Déjà inscrit ? <a href="{{ url_for('auth.login') }}">Connexion</a></p>
{% endblock %}
